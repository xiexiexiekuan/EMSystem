<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<!--<div th:replace="common/header::header('个人信息更新')"></div>-->
<script>
    function getAreaList() {
        $.ajax({
            type: "post",
            url: "/userInfo/personalInfo",    //url根据自己的项目实际定义
            async: false,
            dataType: "text",
            error: function () {
                alert("系统忙，请稍后再试！");
                return false;
            },
            success: function (text) {
                var expressExam = $("#addressId");
                var str = '';
                var data = eval("(" + text + ")");
                var tid=expressExam.attr("value");
                expressExam.empty();
                console.log(tid)
                for (var o in data) {
                    if(tid==data[o].id) {
                        str += '<option value="' + data[o].id + '" selected>' + data[o].province + data[o].city + '</option>';
                    }else{
                        str += '<option value="' + data[o].id + '">' + data[o].province + data[o].city + '</option>';
                    }
                }
                expressExam.append(str);
            }
        });
    }
</script>
<body >
<!--onload="getAreaList()"-->
<div id="wrapper" class="row">
    <div th:replace="common/header::nav"></div>
    <div id="page-inner">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        个人信息表
                    </div>
                    <div class="panel-body">
                        <form th:action="/userInfo/toPersonalInfoUpdate" method="post">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th style="width:40%;"></th>
                                        <th>信息</th>
                                    </tr>
                                    </thead>
                                    <tbody th:object="${updateUser}">
                                    <tr>
                                        <td>姓名</td>
                                        <td>
                                            <input type="text" id="name" name="name" class="required" placeholder="姓名"
                                                   value="无" th:value="*{userName}">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>性别</td>
                                        <td>
                                            <input type="text" id="sex" name="sex" class="required" placeholder="性别"
                                                   value="无" th:value="*{sex}">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>年龄</td>
                                        <td>
                                            <input type="text" id="age" name="age" class="required" placeholder="年龄"
                                                   value="无" th:value="*{age}">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>邮箱</td>
                                        <td>
                                            <input type="text" id="email" name="email" class="required" placeholder="邮箱"
                                                   value="无" th:value="*{email}">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>电话</td>
                                        <td>
                                            <input type="text" id="phone" name="phone" class="required" placeholder="电话"
                                                   value="0" th:value="*{phone}">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>身份证号</td>
                                        <td>
                                            <input type="text" id="certificateId" name="certificateId" class="required" placeholder="身份证号"
                                                   value="0" th:value="*{certificateId}">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>单位</td>
                                        <td>
                                            <select id="institute" name="institute" th:value="*{institute}"  th:text="*{institute}">
                                                <option>全部</option>
                                            </select>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <button type="submit" class="btn btn-primary">保存</button>
                                <button class="btn btn-warning">
                                    <a th:href="/userInfo/personal-info" style="color:white;">取消</a>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- /. ROW  -->
    </div>
    <!-- /. PAGE INNER  -->
</div>
<!-- /. WRAPPER  -->

<div th:replace="common/footer"></div>
</body>
</html>